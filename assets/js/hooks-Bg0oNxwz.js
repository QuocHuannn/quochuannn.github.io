import{r as e}from"./react-vendor-Z_4RhRe6.js";import{a as t,u as n}from"./utils-B30PI53b.js";import"./theme-core-CFJN5RsB.js";const r=()=>{const[t,n]=e.useState(()=>"undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches);return e.useEffect(()=>{if("undefined"==typeof window)return;const e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e=>{n(e.matches)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[]),t},s=Object.freeze(Object.defineProperty({__proto__:null,useReducedMotion:r},Symbol.toStringTag,{value:"Module"})),a=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","KeyB","KeyA"],o=t=>{const[n,r]=e.useState([]);return e.useEffect(()=>{const e=e=>{r(n=>{const r=[...n,e.code].slice(-a.length);return r.join(",")===a.join(",")?(t(),[]):r})};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t]),n.length>0},c=()=>{const t=e.useCallback(e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement))switch(e.key){case"Tab":break;case"Enter":case" ":const t=document.activeElement;!t||"BUTTON"!==t.tagName&&"A"!==t.tagName&&"button"!==t.getAttribute("role")||(e.preventDefault(),t.click());break;case"Escape":const n=new CustomEvent("escape-key",{bubbles:!0});document.dispatchEvent(n)}},[]);e.useEffect(()=>(document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)),[t])},i=()=>({skipToContent:e.useCallback(()=>{const e=document.getElementById("main-content")||document.querySelector("main")||document.querySelector('[role="main"]');e&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))},[]),skipToNavigation:e.useCallback(()=>{const e=document.getElementById("main-navigation")||document.querySelector("nav")||document.querySelector('[role="navigation"]');e&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))},[])}),u=()=>{const t=e.useRef(null),n=e.useCallback((e,n="polite")=>{if(!t.current){const e=document.createElement("div");e.setAttribute("aria-live",n),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.style.cssText="\n        position: absolute;\n        left: -10000px;\n        width: 1px;\n        height: 1px;\n        overflow: hidden;\n      ",document.body.appendChild(e),t.current=e}t.current.textContent="",setTimeout(()=>{t.current&&(t.current.textContent=e)},100)},[]);return e.useEffect(()=>()=>{t.current&&document.body.removeChild(t.current)},[]),{announce:n}},l=()=>({createRipple:e.useCallback(e=>{const t=e.currentTarget,n=t.getBoundingClientRect(),r=e.clientX-n.left,s=e.clientY-n.top,a=document.createElement("span");a.classList.add("ripple"),a.style.left=`${r}px`,a.style.top=`${s}px`,t.appendChild(a),setTimeout(()=>{a.remove()},600)},[])}),d=(n={})=>{const{manager:r=t,syncOnMount:s=!0,enableRealTimeSync:a=!0,applyCSSProperties:o=!0}=n,[c,i]=e.useState(()=>s?r.getPreferences():{globalAnimationsEnabled:!0,respectReducedMotion:!0,themeTransition:{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},pageTransition:{duration:400,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},componentTransition:{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},hoverAnimations:{duration:150,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},clickAnimations:{duration:100,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},loadingAnimations:{duration:1e3,easing:"linear",enabled:!0},progressAnimations:{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},scrollAnimations:{duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",enabled:!0},parallaxAnimations:{duration:0,easing:"linear",enabled:!0},customPresets:{}}),[u,l]=e.useState(()=>r.getReducedMotionPreference()),d=e.useRef(null),m=e.useRef(null);return e.useEffect(()=>{if(!s){const e=r.getPreferences();i(e)}},[r,s]),e.useEffect(()=>{if(a)return d.current=r.subscribe(e=>{i(e)}),()=>{d.current&&(d.current(),d.current=null)}},[r,a]),e.useEffect(()=>{if(a)return m.current=r.subscribeToReducedMotion(e=>{l(e)}),()=>{m.current&&(m.current(),m.current=null)}},[r,a]),e.useEffect(()=>{o&&r.applyCSSCustomProperties()},[r,c,o]),{preferences:c,setPreferences:e.useCallback(e=>{r.setPreferences(e)},[r]),updateAnimationConfig:e.useCallback((e,t)=>{r.updateAnimationConfig(e,t)},[r]),setCustomPreset:e.useCallback((e,t)=>{r.setCustomPreset(e,t)},[r]),removeCustomPreset:e.useCallback(e=>{r.removeCustomPreset(e)},[r]),getEffectiveConfig:e.useCallback(e=>r.getEffectiveConfig(e),[r]),getCustomPreset:e.useCallback(e=>r.getCustomPreset(e),[r]),shouldAnimate:e.useCallback(e=>r.shouldAnimate(e),[r]),getCSSTransition:e.useCallback((e,t="all")=>r.getCSSTransition(e,t),[r]),getCSSAnimationDuration:e.useCallback(e=>r.getCSSAnimationDuration(e),[r]),reducedMotion:u,reset:e.useCallback(()=>{r.reset()},[r]),export:e.useCallback(()=>r.export(),[r]),import:e.useCallback(e=>r.import(e),[r])}};function m(t={}){const{onPreferencesChange:r,onSyncError:s}=t,[a,o]=e.useState(()=>n.getPreferences()),[c,i]=e.useState(!1),[u,l]=e.useState(null);e.useEffect(()=>n.subscribe(e=>{o(e),r?.(e)}),[r]);const d=e.useMemo(()=>a.theme,[a.theme]),m=e.useMemo(()=>a.animations,[a.animations]),f=e.useMemo(()=>a.ui,[a.ui]),p=e.useMemo(()=>new Date(a.lastUpdated),[a.lastUpdated]),b=e.useCallback(e=>{try{l(null),n.updatePreferences(e)}catch(t){const e=t instanceof Error?t:new Error("Failed to update preferences");l(e.message),s?.(e)}},[s]),g=e.useCallback(e=>{try{l(null),n.updateThemePreferences(e)}catch(t){const e=t instanceof Error?t:new Error("Failed to update theme preferences");l(e.message),s?.(e)}},[s]),C=e.useCallback(e=>{try{l(null),n.updateAnimationPreferences(e)}catch(t){const e=t instanceof Error?t:new Error("Failed to update animation preferences");l(e.message),s?.(e)}},[s]),E=e.useCallback(e=>{try{l(null),n.updateUIPreferences(e)}catch(t){const e=t instanceof Error?t:new Error("Failed to update UI preferences");l(e.message),s?.(e)}},[s]),h=e.useCallback(()=>{try{l(null),n.resetPreferences()}catch(e){const t=e instanceof Error?e:new Error("Failed to reset preferences");l(t.message),s?.(t)}},[s]),k=e.useCallback(e=>{try{l(null),n.resetSection(e)}catch(t){const e=t instanceof Error?t:new Error("Failed to reset section");l(e.message),s?.(e)}},[s]),w=e.useCallback(()=>n.exportPreferences(),[]),y=e.useCallback((e,t=!0)=>{try{return l(null),n.importPreferences(e,t)}catch(r){const e=r instanceof Error?r:new Error("Failed to import preferences");return l(e.message),s?.(e),!1}},[s]),P=e.useCallback(e=>{n.setUserId(e)},[]),S=e.useCallback((e,t)=>{n.setCloudSync(e,t)},[]),v=e.useCallback(()=>n.getStorageInfo(),[]);return{preferences:a,themePreferences:d,animationPreferences:m,uiPreferences:f,isLoading:c,error:u,lastUpdated:p,updatePreferences:b,updateThemePreferences:g,updateAnimationPreferences:C,updateUIPreferences:E,resetPreferences:h,resetSection:k,exportPreferences:w,importPreferences:y,setUserId:P,setCloudSync:S,getStorageInfo:v}}export{r as a,l as b,c,i as d,o as e,d as f,m as g,s as h,u};
