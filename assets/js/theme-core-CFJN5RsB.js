var e=Object.defineProperty,r=(r,t,o)=>((r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o)(r,"symbol"!=typeof t?t+"":t,o);import{r as t,j as o}from"./react-vendor-Z_4RhRe6.js";import{a as s}from"./hooks-Bg0oNxwz.js";import{u as a,A as n}from"./utils-B30PI53b.js";const i=t.createContext(void 0),c=()=>{const e=t.useContext(i);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},d=Object.freeze(Object.defineProperty({__proto__:null,ThemeContext:i,useTheme:c},Symbol.toStringTag,{value:"Module"})),l=()=>{const{actualTheme:e}=c();return{theme:e,isDark:"dark"===e,isLight:"light"===e,getThemeClass:(r,t)=>"dark"===e?t:r,conditionalClass:(e,r,t="")=>e?r:t}},u=Object.freeze(Object.defineProperty({__proto__:null,useThemeClassName:l},Symbol.toStringTag,{value:"Module"})),f={theme:"light",animationsEnabled:!0,transitionDuration:300,reducedMotion:!1,highContrast:!1,fontSize:"medium",lastModified:Date.now()},h={storageType:"localStorage",key:"theme-preferences",fallbackPreferences:{},enableAutoSync:!0,syncInterval:5e3};class m{constructor(e={}){if(r(this,"options"),r(this,"storage"),r(this,"syncInterval"),r(this,"listeners",new Set),r(this,"lastKnownPreferences"),this.options={...h,...e},"undefined"==typeof window)throw new Error("ThemeStorage can only be used in browser environment");this.storage="sessionStorage"===this.options.storageType?window.sessionStorage:window.localStorage,this.options.enableAutoSync&&this.options.syncInterval&&this.startAutoSync(),window.addEventListener("storage",this.handleStorageChange.bind(this))}getPreferences(){try{const e=this.storage.getItem(this.options.key);if(!e)return{...f,...this.options.fallbackPreferences};const r=JSON.parse(e),t={...f,...this.options.fallbackPreferences,...r,lastModified:r.lastModified||Date.now()};return["light","dark"].includes(t.theme)||(t.theme="light"),["small","medium","large"].includes(t.fontSize)||(t.fontSize="medium"),t}catch(e){return{...f,...this.options.fallbackPreferences}}}setPreferences(e){try{const r={...this.getPreferences(),...e,lastModified:Date.now()};this.storage.setItem(this.options.key,JSON.stringify(r)),this.lastKnownPreferences=r,this.listeners.forEach(e=>{try{e(r)}catch(t){}}),window.dispatchEvent(new CustomEvent("themePreferencesChanged",{detail:{preferences:r,source:"local"}}))}catch(r){}}updatePreference(e,r){this.setPreferences({[e]:r})}clearPreferences(){try{this.storage.removeItem(this.options.key),this.lastKnownPreferences=void 0;const e={...f,...this.options.fallbackPreferences};this.listeners.forEach(r=>{try{r(e)}catch(t){}}),window.dispatchEvent(new CustomEvent("themePreferencesCleared",{detail:{preferences:e}}))}catch(e){}}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}exportPreferences(){const e=this.getPreferences();return JSON.stringify(e,null,2)}importPreferences(e){try{const r=JSON.parse(e);return this.setPreferences(r),!0}catch(r){return!1}}getStorageInfo(){try{const e="__storage_test__";let r=0,t=0;for(let o in this.storage)this.storage.hasOwnProperty(o)&&(r+=this.storage[o].length+o.length);try{let r=1024;for(;r<10485760;)try{this.storage.setItem(e,"x".repeat(r)),this.storage.removeItem(e),r*=2}catch{break}t=r/2}catch{t=5242880}return{used:r,available:t,percentage:r/(r+t)*100}}catch(e){return{used:0,available:0,percentage:0}}}handleStorageChange(e){if(e.key===this.options.key&&e.newValue)try{const r=JSON.parse(e.newValue);this.lastKnownPreferences=r,this.listeners.forEach(e=>{try{e(r)}catch(t){}}),window.dispatchEvent(new CustomEvent("themePreferencesChanged",{detail:{preferences:r,source:"external"}}))}catch(r){}}startAutoSync(){this.syncInterval&&clearInterval(this.syncInterval),this.syncInterval=setInterval(()=>{const e=this.getPreferences();this.lastKnownPreferences&&e.lastModified===this.lastKnownPreferences.lastModified||(this.lastKnownPreferences=e,this.listeners.forEach(r=>{try{r(e)}catch(t){}}))},this.options.syncInterval)}destroy(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=void 0),window.removeEventListener("storage",this.handleStorageChange.bind(this)),this.listeners.clear()}}const g=new m,y={surface:{primary:{backgroundColor:"var(--color-surface)",color:"var(--color-text-primary)",borderColor:"var(--color-border)"},secondary:{backgroundColor:"var(--color-surface-secondary)",color:"var(--color-text-secondary)",borderColor:"var(--color-border)"},glass:{backgroundColor:"var(--color-surface-glass)",backdropFilter:"blur(12px)",borderColor:"var(--color-border-glass)",boxShadow:"var(--shadow-md)"},elevated:{backgroundColor:"var(--color-surface)",boxShadow:"var(--shadow-lg)",borderColor:"var(--color-border)"}},interactive:{primary:{backgroundColor:"var(--color-primary)",color:"var(--color-primary-foreground)",borderColor:"transparent"},secondary:{backgroundColor:"var(--color-secondary)",color:"var(--color-secondary-foreground)",borderColor:"var(--color-border)"},outline:{backgroundColor:"transparent",color:"var(--color-text-primary)",borderColor:"var(--color-border)"},ghost:{backgroundColor:"transparent",color:"var(--color-text-primary)",borderColor:"transparent"},destructive:{backgroundColor:"var(--color-destructive)",color:"var(--color-destructive-foreground)",borderColor:"transparent"}},text:{primary:{color:"var(--color-text-primary)"},secondary:{color:"var(--color-text-secondary)"},muted:{color:"var(--color-text-muted)"},accent:{color:"var(--color-primary)"},destructive:{color:"var(--color-destructive)"}},shadow:{sm:{boxShadow:"var(--shadow-sm)"},md:{boxShadow:"var(--shadow-md)"},lg:{boxShadow:"var(--shadow-lg)"},xl:{boxShadow:"var(--shadow-xl)"}}},p=(e,r)=>y[e][r]||{},b=e=>({primary:{backgroundColor:"var(--color-primary-hover)"},secondary:{backgroundColor:"var(--color-secondary-hover)"},outline:{backgroundColor:"var(--color-surface-hover)",borderColor:"var(--color-border-hover)"},ghost:{backgroundColor:"var(--color-surface-hover)"},destructive:{backgroundColor:"var(--color-destructive-hover)"},surface:{boxShadow:"var(--shadow-md)"},elevated:{boxShadow:"var(--shadow-xl)"}}[e]||{}),v=()=>({outline:"none",boxShadow:"0 0 0 2px var(--color-primary), 0 0 0 4px var(--color-primary-alpha)"}),S=(e=["all"])=>({transition:e.map(e=>`${e} 0.2s cubic-bezier(0.4, 0, 0.2, 1)`).join(", ")}),w={getVariantStyles:e=>p("interactive",e),getHoverStyles:b,getFocusStyles:v,getTransitionStyles:()=>S(["background-color","color","border-color","box-shadow"])},k={getVariantStyles:e=>p("surface",e),getHoverStyles:e=>"glass"===e||"elevated"===e?{boxShadow:"var(--shadow-xl)"}:{boxShadow:"var(--shadow-md)"},getTransitionStyles:()=>S(["background-color","border-color","box-shadow"])},P={getVariantStyles:e=>p("text",e),getTransitionStyles:()=>S(["color"])};let C=new Map,T=!1;const x=()=>{if(0===C.size)return;const e=document.documentElement;C.forEach((r,t)=>{e.style.setProperty(t,r)}),C.clear(),T=!1},A=e=>{Object.entries(e).forEach(([e,r])=>{C.set(e,r)}),T||(T=!0,requestAnimationFrame(x))},I=(e,r)=>r.includes(e),E=Object.freeze(Object.defineProperty({__proto__:null,buttonThemeUtils:w,cardThemeUtils:k,combineThemeStyles:(...e)=>e.reduce((e,r)=>({...e,...r}),{}),commonThemePatterns:y,createThemeAwareHandlers:(e,r)=>({onMouseEnter:r=>{const t=b(e);Object.assign(r.currentTarget.style,t)},onMouseLeave:e=>{Object.assign(e.currentTarget.style,r)},onFocus:e=>{Object.assign(e.currentTarget.style,{outline:"none",boxShadow:"0 0 0 2px var(--color-primary), 0 0 0 4px var(--color-primary-alpha)"})},onBlur:e=>{e.currentTarget.style.boxShadow=r.boxShadow||""}}),flushCSSUpdatesSync:()=>{T&&x()},getCSSCustomProperty:e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),getFocusStyles:v,getHoverStyles:b,getThemeStyles:p,getTransitionStyles:S,getValidVariant:(e,r,t)=>I(e,r)?e:t,setCSSCustomProperties:A,setCSSCustomProperty:(e,r)=>{C.set(e,r),T||(T=!0,requestAnimationFrame(x))},textThemeUtils:P,validateThemeVariant:I},Symbol.toStringTag,{value:"Module"})),O={primary:"#3b82f6",primaryForeground:"#ffffff",primaryHover:"#2563eb",primaryActive:"#1d4ed8",secondary:"#6b7280",secondaryForeground:"#ffffff",secondaryHover:"#4b5563",secondaryActive:"#374151",accent:"#8b5cf6",accentForeground:"#ffffff",accentHover:"#7c3aed",accentActive:"#6d28d9",background:"#ffffff",backgroundSecondary:"#f8fafc",backgroundTertiary:"#f1f5f9",backgroundHover:"#e2e8f0",foreground:"#0f172a",foregroundSecondary:"#334155",foregroundMuted:"#64748b",foregroundDisabled:"#94a3b8",border:"#e2e8f0",borderSecondary:"#cbd5e1",borderHover:"#94a3b8",borderFocus:"#3b82f6",success:"#10b981",successForeground:"#ffffff",warning:"#f59e0b",warningForeground:"#ffffff",error:"#ef4444",errorForeground:"#ffffff",info:"#06b6d4",infoForeground:"#ffffff",shadow:"rgba(0, 0, 0, 0.1)",overlay:"rgba(0, 0, 0, 0.5)",highlight:"#fef3c7",selection:"#dbeafe"},F={primary:"#3b82f6",primaryForeground:"#ffffff",primaryHover:"#60a5fa",primaryActive:"#93c5fd",secondary:"#6b7280",secondaryForeground:"#ffffff",secondaryHover:"#9ca3af",secondaryActive:"#d1d5db",accent:"#8b5cf6",accentForeground:"#ffffff",accentHover:"#a78bfa",accentActive:"#c4b5fd",background:"#0f172a",backgroundSecondary:"#1e293b",backgroundTertiary:"#334155",backgroundHover:"#475569",foreground:"#f8fafc",foregroundSecondary:"#e2e8f0",foregroundMuted:"#94a3b8",foregroundDisabled:"#64748b",border:"#334155",borderSecondary:"#475569",borderHover:"#64748b",borderFocus:"#3b82f6",success:"#10b981",successForeground:"#ffffff",warning:"#f59e0b",warningForeground:"#ffffff",error:"#ef4444",errorForeground:"#ffffff",info:"#06b6d4",infoForeground:"#ffffff",shadow:"rgba(0, 0, 0, 0.3)",overlay:"rgba(0, 0, 0, 0.7)",highlight:"#451a03",selection:"#1e3a8a"},j={fontFamily:"Inter, system-ui, sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{light:"300",normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},D={xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem","4xl":"6rem"},H={none:"0",sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem",full:"9999px"},N={duration:{fast:"150ms",normal:"300ms",slow:"500ms"},easing:{linear:"linear",easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)",easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)"}},L=[{id:"default",name:"default",displayName:"Default",description:"Clean and modern default theme",author:"System",version:"1.0.0",tags:["default","modern","clean"],light:{name:"default-light",displayName:"Default Light",description:"Default light color scheme",colors:O,typography:j,spacing:D,borderRadius:H,animations:N},dark:{name:"default-dark",displayName:"Default Dark",description:"Default dark color scheme",colors:F,typography:j,spacing:D,borderRadius:H,animations:N},isBuiltIn:!0,isCustom:!1},{id:"ocean",name:"ocean",displayName:"Ocean",description:"Cool blue ocean-inspired theme",author:"System",version:"1.0.0",tags:["blue","ocean","cool"],light:{name:"ocean-light",displayName:"Ocean Light",description:"Light ocean color scheme",colors:{...O,primary:"#0ea5e9",primaryHover:"#0284c7",primaryActive:"#0369a1",accent:"#06b6d4",accentHover:"#0891b2",accentActive:"#0e7490",background:"#f0f9ff",backgroundSecondary:"#e0f2fe",backgroundTertiary:"#bae6fd"},typography:j,spacing:D,borderRadius:H,animations:N},dark:{name:"ocean-dark",displayName:"Ocean Dark",description:"Dark ocean color scheme",colors:{...F,primary:"#0ea5e9",primaryHover:"#38bdf8",primaryActive:"#7dd3fc",accent:"#06b6d4",accentHover:"#22d3ee",accentActive:"#67e8f9",background:"#0c1821",backgroundSecondary:"#164e63",backgroundTertiary:"#0e7490"},typography:j,spacing:D,borderRadius:H,animations:N},isBuiltIn:!0,isCustom:!1},{id:"forest",name:"forest",displayName:"Forest",description:"Natural green forest theme",author:"System",version:"1.0.0",tags:["green","forest","nature"],light:{name:"forest-light",displayName:"Forest Light",description:"Light forest color scheme",colors:{...O,primary:"#059669",primaryHover:"#047857",primaryActive:"#065f46",accent:"#10b981",accentHover:"#059669",accentActive:"#047857",background:"#f0fdf4",backgroundSecondary:"#dcfce7",backgroundTertiary:"#bbf7d0"},typography:j,spacing:D,borderRadius:H,animations:N},dark:{name:"forest-dark",displayName:"Forest Dark",description:"Dark forest color scheme",colors:{...F,primary:"#059669",primaryHover:"#10b981",primaryActive:"#34d399",accent:"#10b981",accentHover:"#34d399",accentActive:"#6ee7b7",background:"#0f1b0f",backgroundSecondary:"#14532d",backgroundTertiary:"#166534"},typography:j,spacing:D,borderRadius:H,animations:N},isBuiltIn:!0,isCustom:!1},{id:"sunset",name:"sunset",displayName:"Sunset",description:"Warm orange and pink sunset theme",author:"System",version:"1.0.0",tags:["orange","pink","warm","sunset"],light:{name:"sunset-light",displayName:"Sunset Light",description:"Light sunset color scheme",colors:{...O,primary:"#ea580c",primaryHover:"#dc2626",primaryActive:"#b91c1c",accent:"#ec4899",accentHover:"#db2777",accentActive:"#be185d",background:"#fff7ed",backgroundSecondary:"#fed7aa",backgroundTertiary:"#fdba74"},typography:j,spacing:D,borderRadius:H,animations:N},dark:{name:"sunset-dark",displayName:"Sunset Dark",description:"Dark sunset color scheme",colors:{...F,primary:"#ea580c",primaryHover:"#fb923c",primaryActive:"#fdba74",accent:"#ec4899",accentHover:"#f472b6",accentActive:"#f9a8d4",background:"#1c1917",backgroundSecondary:"#78350f",backgroundTertiary:"#92400e"},typography:j,spacing:D,borderRadius:H,animations:N},isBuiltIn:!0,isCustom:!1},{id:"midnight",name:"midnight",displayName:"Midnight",description:"Deep purple midnight theme",author:"System",version:"1.0.0",tags:["purple","midnight","dark"],light:{name:"midnight-light",displayName:"Midnight Light",description:"Light midnight color scheme",colors:{...O,primary:"#7c3aed",primaryHover:"#6d28d9",primaryActive:"#5b21b6",accent:"#a855f7",accentHover:"#9333ea",accentActive:"#7e22ce",background:"#faf5ff",backgroundSecondary:"#f3e8ff",backgroundTertiary:"#e9d5ff"},typography:j,spacing:D,borderRadius:H,animations:N},dark:{name:"midnight-dark",displayName:"Midnight Dark",description:"Dark midnight color scheme",colors:{...F,primary:"#7c3aed",primaryHover:"#8b5cf6",primaryActive:"#a78bfa",accent:"#a855f7",accentHover:"#c084fc",accentActive:"#d8b4fe",background:"#1e1b4b",backgroundSecondary:"#312e81",backgroundTertiary:"#3730a3"},typography:j,spacing:D,borderRadius:H,animations:N},isBuiltIn:!0,isCustom:!1}],M=new class{constructor(){r(this,"presets",new Map),r(this,"currentPresetId","default"),r(this,"listeners",new Set),r(this,"storageKey","theme-presets"),r(this,"currentPresetKey","current-theme-preset"),this.initializePresets(),this.loadFromStorage()}initializePresets(){L.forEach(e=>{this.presets.set(e.id,e)})}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);e&&JSON.parse(e).forEach(e=>{e.isCustom&&this.presets.set(e.id,e)});const r=localStorage.getItem(this.currentPresetKey);r&&this.presets.has(r)&&(this.currentPresetId=r)}catch(e){}}saveToStorage(){try{const e=Array.from(this.presets.values()).filter(e=>e.isCustom);localStorage.setItem(this.storageKey,JSON.stringify(e)),localStorage.setItem(this.currentPresetKey,this.currentPresetId)}catch(e){}}getAllPresets(){return Array.from(this.presets.values())}getBuiltInPresets(){return Array.from(this.presets.values()).filter(e=>e.isBuiltIn)}getCustomPresets(){return Array.from(this.presets.values()).filter(e=>e.isCustom)}getPreset(e){return this.presets.get(e)}getCurrentPreset(){return this.presets.get(this.currentPresetId)}getCurrentPresetId(){return this.currentPresetId}setCurrentPreset(e){return!!this.presets.has(e)&&(this.currentPresetId=e,this.saveToStorage(),this.notifyListeners(),!0)}addPreset(e){if(this.presets.has(e.id))return!1;const r={...e,isBuiltIn:!1,isCustom:!0,createdAt:new Date,updatedAt:new Date};return this.presets.set(e.id,r),this.saveToStorage(),this.notifyListeners(),!0}updatePreset(e,r){const t=this.presets.get(e);if(!t||t.isBuiltIn)return!1;const o={...t,...r,id:e,isBuiltIn:t.isBuiltIn,updatedAt:new Date};return this.presets.set(e,o),this.saveToStorage(),this.notifyListeners(),!0}deletePreset(e){const r=this.presets.get(e);return!(!r||r.isBuiltIn||(this.presets.delete(e),this.currentPresetId===e&&(this.currentPresetId="default"),this.saveToStorage(),this.notifyListeners(),0))}duplicatePreset(e,r,t){const o=this.presets.get(e);if(!o||this.presets.has(r))return!1;const s={...o,id:r,name:t||`${o.name}-copy`,displayName:t||`${o.displayName} Copy`,isBuiltIn:!1,isCustom:!0,createdAt:new Date,updatedAt:new Date};return this.presets.set(r,s),this.saveToStorage(),this.notifyListeners(),!0}searchPresets(e,r){const t=e.toLowerCase();return Array.from(this.presets.values()).filter(o=>{const s=!e||o.name.toLowerCase().includes(t)||o.displayName.toLowerCase().includes(t)||o.description.toLowerCase().includes(t)||o.author?.toLowerCase().includes(t),a=!r||0===r.length||r.some(e=>o.tags?.includes(e));return s&&a})}getAllTags(){const e=new Set;return Array.from(this.presets.values()).forEach(r=>{r.tags?.forEach(r=>e.add(r))}),Array.from(e).sort()}exportPreset(e){const r=this.presets.get(e);return r?JSON.stringify(r,null,2):null}importPreset(e,r=!1){try{const t=JSON.parse(e);return!(!this.validatePreset(t)||this.presets.has(t.id)&&!r||(t.isCustom=!0,t.isBuiltIn=!1,t.updatedAt=new Date,t.createdAt||(t.createdAt=new Date),this.presets.set(t.id,t),this.saveToStorage(),this.notifyListeners(),0))}catch(t){return!1}}validatePreset(e){return"object"==typeof e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.displayName&&"string"==typeof e.description&&"object"==typeof e.light&&"object"==typeof e.dark&&"object"==typeof e.light.colors&&"object"==typeof e.dark.colors}applyPreset(e,r){const t=this.presets.get(e);if(!t)return!1;const o="light"===r?t.light:t.dark,s={};return Object.entries(o.colors).forEach(([e,r])=>{const t=`--color-${e.replace(/([A-Z])/g,"-$1").toLowerCase()}`;s[t]=r}),o.typography&&(s["--font-family"]=o.typography.fontFamily,Object.entries(o.typography.fontSize).forEach(([e,r])=>{s[`--font-size-${e}`]=r}),Object.entries(o.typography.fontWeight).forEach(([e,r])=>{s[`--font-weight-${e}`]=r}),Object.entries(o.typography.lineHeight).forEach(([e,r])=>{s[`--line-height-${e}`]=r})),o.spacing&&Object.entries(o.spacing).forEach(([e,r])=>{s[`--spacing-${e}`]=r}),o.borderRadius&&Object.entries(o.borderRadius).forEach(([e,r])=>{s[`--border-radius-${e}`]=r}),o.animations&&(Object.entries(o.animations.duration).forEach(([e,r])=>{s[`--animation-duration-${e}`]=r}),Object.entries(o.animations.easing).forEach(([e,r])=>{s[`--animation-easing-${e}`]=r})),A(s),!0}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){const e=this.getAllPresets();this.listeners.forEach(r=>{try{r(e,this.currentPresetId)}catch(t){}})}reset(){Array.from(this.presets.keys()).forEach(e=>{const r=this.presets.get(e);r?.isCustom&&this.presets.delete(e)}),this.currentPresetId="default",this.saveToStorage(),this.notifyListeners()}getStorageInfo(){const e=this.getCustomPresets();return{used:JSON.stringify(e).length,available:5242880,customPresets:e.length}}};let _=null;const z=({children:e,defaultTheme:r="light",enableAdvancedFeatures:c=!0,enableThemeTransitions:d=!0,enablePresets:l=!0,autoSyncPreferences:u=!0})=>{const f=s(),h=t.useMemo(()=>(_||(_=new n),_),[]),m=t.useRef(c),y=t.useRef(d),p=t.useRef(l),b=t.useRef(u);t.useEffect(()=>{m.current=c,y.current=d,p.current=l,b.current=u});const[v,S]=t.useState(()=>{if("undefined"!=typeof window&&c){const e=g.getPreferences();if(e.theme&&["light","dark"].includes(e.theme))return e.theme}else if("undefined"!=typeof window){const e=localStorage.getItem("theme");if(e&&["light","dark"].includes(e))return e}return r}),w=v,k=t.useCallback(()=>{S("light"===v?"dark":"light")},[v]),P=t.useCallback(async e=>{if(S(e),y.current&&!f){const e=h.getPreferences();e.globalAnimationsEnabled&&e.themeTransition.enabled&&requestAnimationFrame(()=>{document.documentElement.classList.add("theme-switching"),setTimeout(()=>{document.documentElement.classList.remove("theme-switching")},e.themeTransition.duration)})}},[f,h]);t.useEffect(()=>{const e=window.document.documentElement;e.setAttribute("data-theme",w),e.style.colorScheme=w},[w]),t.useEffect(()=>{const e=setTimeout(()=>{m.current?(g.updatePreference("theme",v),b.current&&a.updatePreferences({theme:{theme:v,animationsEnabled:!0,transitionDuration:300,reducedMotion:!1,highContrast:!1,fontSize:"medium",lastModified:Date.now()}})):localStorage.setItem("theme",v)},100);return()=>clearTimeout(e)},[v]),t.useEffect(()=>{if(p.current){const e=M.getCurrentPreset();e&&requestAnimationFrame(()=>{var r,t;r=e.id,t=w,M.applyPreset(r,t)})}},[w]),t.useEffect(()=>{const e=setTimeout(()=>{window.dispatchEvent(new CustomEvent("themeChange",{detail:{theme:v,actualTheme:w,prefersReducedMotion:f,timestamp:Date.now(),advancedFeatures:m.current,transitions:y.current,presets:p.current}}))},0);return()=>clearTimeout(e)},[v,w,f]);const C=t.useMemo(()=>({theme:v,actualTheme:w,prefersReducedMotion:f,setTheme:P,toggleTheme:k}),[v,w,f,P,k]);return o.jsx(i.Provider,{value:C,children:e})},R=Object.freeze(Object.defineProperty({__proto__:null,ThemeProvider:z},Symbol.toStringTag,{value:"Module"}));export{m as T,l as a,z as b,d as c,u as d,R as e,A as s,E as t,c as u};
